<!-- Category Page -->

{{> components/page-header
  title=pageHeader.title
  breadcrumbs=pageHeader.breadcrumbs
  properties=categoryProperties
  meta=pageHeader.meta
}}

<!-- Groups in Category -->
<div style="margin-bottom: 20px;">
  <div style="margin-bottom: 12px;">
    <h2 style="font-size: 13px; font-weight: 600; color: var(--color-text-primary); margin: 0;">
      Ship Groups in {{category.name}}
    </h2>
  </div>

  <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 12px;">
    {{#each groups}}
    <a href="/group/{{this.groupId}}" style="display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--color-bg-tertiary); border: 1px solid var(--color-border-dark); border-radius: var(--radius-sm); text-decoration: none; transition: all 0.2s ease;">
      <div style="flex-shrink: 0; width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; background: rgba(0, 0, 0, 0.3); border: 1px solid var(--color-border-dark); border-radius: var(--radius-sm);">
        {{#if this.iconId}}
          <img src="https://images.eve-kill.com/types/{{this.iconId}}/icon?size=64" alt="{{this.name}}" style="width: 40px; height: 40px; object-fit: contain;" loading="lazy" />
        {{else}}
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" style="color: var(--color-text-secondary);">
            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
          </svg>
        {{/if}}
      </div>
      <div style="flex: 1; min-width: 0;">
        <div style="font-size: 11px; font-weight: 600; color: var(--color-text-primary); margin-bottom: 2px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
          {{this.name}}
        </div>
        <div style="font-size: 9px; color: var(--color-text-secondary);">
          {{formatNumber this.typeCount}} types
        </div>
      </div>
    </a>
    {{/each}}
  </div>
</div>

<style>
a[href^="/group/"]:hover {
  background: rgba(74, 158, 255, 0.15) !important;
  border-color: var(--color-accent-blue) !important;
}
</style>
