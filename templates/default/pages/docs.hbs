<div class="docs-page">
  {{> components/page-header
    title=currentDoc.title
    breadcrumbs=pageHeader.breadcrumbs
    meta=pageHeader.meta
  }}

  <div class="docs-layout">
    <aside class="docs-sidebar">
      <div class="docs-sidebar__header">
        <h3 class="docs-sidebar__title">Documentation</h3>
        <p class="docs-sidebar__subtitle">Navigate through guides, systems, and references</p>
      </div>

      <nav class="docs-nav">
        {{#each navSections}}
          <div class="docs-nav__section">
            <div class="docs-nav__section-header">
              <span class="docs-nav__section-icon">
                {{#ifEquals this.key "guides"}}ğŸ› ï¸{{/ifEquals}}
                {{#ifEquals this.key "systems"}}âš™ï¸{{/ifEquals}}
                {{#ifEquals this.key "reference"}}ğŸ“–{{/ifEquals}}
                {{#ifEquals this.key "general"}}ğŸ“„{{/ifEquals}}
              </span>
              <h4 class="docs-nav__section-title">{{this.title}}</h4>
              <span class="docs-nav__section-count">{{this.items.length}}</span>
            </div>
            <ul class="docs-nav__list">
              {{#each this.items}}
                <li class="docs-nav__item">
                  <a href="/docs/{{this.slug}}"
                     class="docs-nav__link {{#ifEquals ../../currentDoc.slug this.slug}}docs-nav__link--active{{/ifEquals}}"
                     title="{{this.title}}">
                    <span class="docs-nav__link-text">{{this.title}}</span>
                    {{#ifEquals ../../currentDoc.slug this.slug}}
                      <span class="docs-nav__link-indicator">â†’</span>
                    {{/ifEquals}}
                  </a>
                </li>
              {{/each}}
            </ul>
          </div>
        {{/each}}
      </nav>

      <div class="docs-sidebar__footer">
        <a href="/docs" class="docs-sidebar__home-link">â† Back to Docs Home</a>
      </div>
    </aside>

    <section class="docs-content">
      <div class="docs-content__card">
        <article class="docs-markdown">
          {{{currentDoc.contentHtml}}}
        </article>

        <footer class="docs-footer">
          <div class="docs-footer__meta">
            <span class="docs-footer__label">File:</span>
            <code class="docs-footer__path">docs/{{currentDoc.relativePath}}.md</code>
          </div>
          <div class="docs-footer__meta">
            <span class="docs-footer__label">Last updated:</span>
            <time class="docs-footer__date">{{currentDoc.updatedAt}}</time>
          </div>
        </footer>
      </div>
    </section>
  </div>
</div>
